<!DOCTYPE html">
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Top Troops Summoning Madness!</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="preload" as="audio" href="epic.mp3" />
<link rel="preload" as="audio" href="legendary.mp3" />
<link rel="preload" as="audio" href="fragments.mp3" />

<link rel="preload" as="image" href="images/epicfragment.png" />
<link rel="preload" as="image" href="images/legendaryfragment.png" />
<link rel="preload" as="image" href="glow.png" />
<link rel="preload" as="image" href="images/units/Abomination.png" />
<link rel="preload" as="image" href="images/units/Arcane Hunter.png" />
<link rel="preload" as="image" href="images/units/Catapult.png" />
<link rel="preload" as="image" href="images/units/Cleric.png" />
<link rel="preload" as="image" href="images/units/Conductor.png" />
<link rel="preload" as="image" href="images/units/Crabomancer.png" />
<link rel="preload" as="image" href="images/units/Golem.png" />
<link rel="preload" as="image" href="images/units/Merman.png" />
<link rel="preload" as="image" href="images/units/Mushroom Shield.png" />
<link rel="preload" as="image" href="images/units/Necromancer Rat.png" />
<link rel="preload" as="image" href="images/units/Ninja Mole.png" />
<link rel="preload" as="image" href="images/units/Pyromaniac.png" />
<link rel="preload" as="image" href="images/units/Valkyre.png" />
<link rel="preload" as="image" href="images/units/Verleaf.png" />
<link rel="preload" as="image" href="images/units/Warrior Carriage.png" />
<link rel="preload" as="image" href="images/units/Amethyst Aegis.png" />
<link rel="preload" as="image" href="images/units/Amethyst Claymore.png" />
<link rel="preload" as="image" href="images/units/Archangel.png" />
<link rel="preload" as="image" href="images/units/Armored Troll.png" />
<link rel="preload" as="image" href="images/units/Battle Drummer.png" />
<link rel="preload" as="image" href="images/units/Beekeeper.png" />
<link rel="preload" as="image" href="images/units/Berserker.png" />
<link rel="preload" as="image" href="images/units/Blazing Champion.png" />
<link rel="preload" as="image" href="images/units/Bloodlust Bullet.png" />
<link rel="preload" as="image" href="images/units/Boomerang Mercenary.png" />
<link rel="preload" as="image" href="images/units/Dakini.png" />
<link rel="preload" as="image" href="images/units/Demi Angel.png" />
<link rel="preload" as="image" href="images/units/Dwarf Engineer.png" />
<link rel="preload" as="image" href="images/units/Eira.png" />
<link rel="preload" as="image" href="images/units/El Bandolero.png" />
<link rel="preload" as="image" href="images/units/Elemental Witch.png" />
<link rel="preload" as="image" href="images/units/Ember Elemental.png" />
<link rel="preload" as="image" href="images/units/Explorabbit.png" />
<link rel="preload" as="image" href="images/units/Fire Slasher.png" />
<link rel="preload" as="image" href="images/units/Frozen Heart.png" />
<link rel="preload" as="image" href="images/units/Girtablilu.png" />
<link rel="preload" as="image" href="images/units/Herbalist.png" />
<link rel="preload" as="image" href="images/units/Hermes.png" />
<link rel="preload" as="image" href="images/units/Holy Protector.png" />
<link rel="preload" as="image" href="images/units/Imperial Elf.png" />
<link rel="preload" as="image" href="images/units/Inferno Shredder.png" />
<link rel="preload" as="image" href="images/units/Juggernaut.png" />
<link rel="preload" as="image" href="images/units/Leshy.png" />
<link rel="preload" as="image" href="images/units/Meiga.png" />
<link rel="preload" as="image" href="images/units/Mr Beast.png" />
<link rel="preload" as="image" href="images/units/Oni Warrior.png" />
<link rel="preload" as="image" href="images/units/Ose.png" />
<link rel="preload" as="image" href="images/units/Rainbow Chariot.png" />
<link rel="preload" as="image" href="images/units/Royal Guard.png" />
<link rel="preload" as="image" href="images/units/Samurai.png" />
<link rel="preload" as="image" href="images/units/Sekhmet.png" />
<link rel="preload" as="image" href="images/units/Sharpshooter.png" />
<link rel="preload" as="image" href="images/units/Slime King.png" />
<link rel="preload" as="image" href="images/units/Spirited Tiger.png" />
<link rel="preload" as="image" href="images/units/Stone Hermit.png" />
<link rel="preload" as="image" href="images/units/Storm.png" />
<link rel="preload" as="image" href="images/units/Swash Buckler.png" />
<link rel="preload" as="image" href="images/units/Sylvan Spirit.png" />
<link rel="preload" as="image" href="images/units/The King.png" />
<link rel="preload" as="image" href="images/units/Thor.png" />
<link rel="preload" as="image" href="images/units/Thundershot.png" />
<link rel="preload" as="image" href="images/units/Toad Druid.png" />
<link rel="preload" as="image" href="images/units/Trickster.png" />
<link rel="preload" as="image" href="images/units/Vampire Queen.png" />
<link rel="preload" as="image" href="images/units/Water Maiden.png" />
<link rel="preload" as="image" href="images/units/Wave Warrior Drenthest.png" />
<link rel="preload" as="image" href="images/units/Werewolf.png" />
<link rel="preload" as="image" href="images/units/Ymir.png" />
<link rel="preload" as="image" href="images/units/Assassin.png" />
<link rel="preload" as="image" href="images/units/Blue Wizard.png" />
<link rel="preload" as="image" href="images/units/Draggy.png" />
<link rel="preload" as="image" href="images/units/Orc Rider.png" />
<link rel="preload" as="image" href="images/units/Troll.png" />




<link href="css/style.css" rel="stylesheet" type="text/css">

<style>
h3{
text-transform: uppercase;
font-weight: 600;
}
.container {
  text-align: center;
}

h1 {
  margin-bottom: 20px;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #8BC34A;
    border: none;
    color: #ffffff;
    font-weight: bold;
    border-radius: 5px;
}
button:disabled {
pointer-events: none;
background-color: rgb(204, 204, 204, 0.21);
}
.legendaryglow{
background-image: url("glow.png")!important;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
  animation: fadein 2.5s ease-in ;
  transition: all .5s ease-in-out;
      filter: contrast(0.5);
}
@keyframes fadein {
  0% {opacity: 0;}
  100% {opacity: 1;}
} 
#result {
    margin-top: 20px;
    font-size: 18px;
    min-height: 54vh;
    display: flex;
    align-items: center;
    flex-direction: column;
    align-content: center;
    justify-content: center;
}
.imagcon{
position: relative;
width: 200px;
}
.unitimg{
width: 100%;
padding: 10px;
}
.fragunitimg {
    width: auto;
    padding: 51px;
    max-width: 100%;
    height: 200px;
}
.unitfrag {
    width: 80%;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: -1;
    transform: translate(-50%, -50%);
}
 #loadingScreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgb(0, 0, 0, 0.86);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
#loadingScreen p{
color: #fff!important;
}
#allSummons {
    display: flex!important;
    flex-wrap: wrap;
    align-items: center;
    max-width: 58%;
    margin: auto auto 30px auto;
}
#allSummons .imagtxt{
display: none;
}
#allSummons .unitfrag {
    padding: 0px;
    width: 90%;
}
#allSummons .fragunitimg {
    height: 140px;
    padding: 36px;
}
#allSummons .unitimg {
    padding: 10px 6px;
}

#allSummons .imagcon {
    width: 18%;
    padding: 5px 0px;
    margin: 1%;
}
#allSummons .imagcon.rare {
    background: #376500;
    border-radius: 19px;
    border: 4px solid #8BC34A;
    order: 3
}
#allSummons .imagcon.epic {
    background: #600070;
    border-radius: 19px;
    border: 4px solid #9775d3;
    order: 2;
}
#allSummons .imagcon.legendary {
    background: #cea017;
    border-radius: 19px;
    border: 4px solid #FFEB3B;
    order: 1;
}
#allSummons .imagcon.fraglegendary {
    order: 4;
}
#allSummons .imagcon.fragepic {
    order: 5;
}
#continueButton {
    margin-bottom: 5px;
}

@media (max-width: 1180px) {
#allSummons .fragunitimg {
    height: auto;
    padding: 29px;
}
@media (max-width: 800px) {
#allSummons .fragunitimg {
    padding: 25px;
}
.container{
    max-width: 98%;
}

}
@media (max-width: 660px) {
#allSummons {
    max-width: 100%;
    justify-content: center;
}
#allSummons .imagcon {
    width: 23%;
                font-size: 9px;
}
}

}

</style>
</head>

<body>
<div class="bgovl"></div>
 <div id="loadingScreen">
    <p>Loading...</p>
  </div>


<div style="padding-top: 20px;" >
<div class="containerc">
                    <div class="row " >

                    <div class="col-md-12 col-sm-12 " >






<div class="container">
    <h1>Top Troops Summoning Madness!</h1>
    
   <div class=""> <div id="result"></div><br>
     <div id="allSummons" style="display: none;">
     
     
     
     
     </div>
     
  
  <button id="continueButton" style="display: none;">Continue</button>
     </div>

    
    <button id="summonButton">Summon</button>
  <button id="summon10Button">Summon 10</button> 
  </div>

<audio id="epicSound" src="epic.mp3" ></audio> 
<audio id="legendarySound" src="legendary.mp3" ></audio>
<audio id="fragmentsSound" src="fragments.mp3" ></audio>









</div>
                   
                   
 </div>                   
</div>
</div>

<div class="section"  style="margin-top: 75px;">
<div class="containerc">
                    <div class="row " >

                    <div class="col-md-12 col-sm-12 " >
<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://https-xylarweb-github-io-fun-demo.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                          
                   </div>
                   
                   
 </div>                   
</div>
</div>

<a id="toTop" href="#" class="">
            <img class="" src="images/up.png" alt=""/>  </a>

<div class="overlay"></div>





<script>
 $(window).on( 'load', function(){
 
 
$('#loadingScreen').fadeOut('slow',function(){
                      
	  });     
});
</script>

<script>
// Menu-------------------------------------- 
$(document).ready(function(){
		$('#sidebar-btn').click(function(){
			$('#sidebar').toggleClass('visible');
            
		});
	});
$('#toggle').click(function() {
   /* $(this).toggleClass('toggle-active');*/
    $('#sidebar').toggleClass('visible');
});




// Gototop-------------------------------------- 
$(window).scroll(function() {
            if ( $(this).scrollTop() > 500 ) {
                $('#toTop').addClass('showsx');              
               
            } else {
                $('#toTop').removeClass('showsx');                
            }
        });

       $('#toTop').click(function() {
    $("html, body").animate({ scrollTop: 0 }, "slow");
});



const units = [
 { name: 'Abomination', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Arcane Hunter', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Catapult', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Cleric', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Conductor', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Crabomancer', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Golem', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Merman', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Mushroom Shield', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Necromancer Rat', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Ninja Mole', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Pyromaniac', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Valkyre', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Verleaf', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Warrior Carriage', rarity: 'Epic', unitProb: 0.6667, fragmentProb: 1.3333 },
{ name: 'Amethyst Aegis', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Amethyst Claymore', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Archangel', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Armored Troll', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Battle Drummer', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Beekeeper', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Berserker', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Blazing Champion', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Bloodlust Bullet', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Boomerang Mercenary', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Dakini', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Demi Angel', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Dwarf Engineer', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Eira', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'El Bandolero', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Elemental Witch', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Ember Elemental', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Explorabbit', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Fire Slasher', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Frozen Heart', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Girtablilu', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Herbalist', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Hermes', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Holy Protector', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Imperial Elf', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Inferno Shredder', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Juggernaut', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Leshy', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Meiga', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Mr Beast', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Oni Warrior', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Ose', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Rainbow Chariot', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Royal Guard', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Samurai', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Sekhmet', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Sharpshooter', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Slime King', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Spirited Tiger', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Stone Hermit', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Storm', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Swash Buckler', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Sylvan Spirit', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'The King', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Thor', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Thundershot', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Toad Druid', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Trickster', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Vampire Queen', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Water Maiden', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Wave Warrior Drenthest', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Werewolf', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Ymir', rarity: 'Legendary', unitProb: 0.08, fragmentProb: 0.2 },
{ name: 'Assassin', rarity: 'Rare', unitProb: 7, fragmentProb: 0 },
{ name: 'Blue Wizard', rarity: 'Rare', unitProb: 7, fragmentProb: 0 },
{ name: 'Draggy', rarity: 'Rare', unitProb: 7, fragmentProb: 0 },
{ name: 'Orc Rider', rarity: 'Rare', unitProb: 7, fragmentProb: 0 },
{ name: 'Troll', rarity: 'Rare', unitProb: 7, fragmentProb: 0 },

  
];

// Array to store only legendary units
const legendaryUnits = units.filter(unit => unit.rarity === "Legendary");

// Counter to track the number of summons
let summonCounter = 0;

// Function to select a random unit or fragment based on probability
function summonUnitOrFragment() {
  summonCounter++; // Increment the summon counter

  const epicSound = document.getElementById('epicSound');
  const legendarySound = document.getElementById('legendarySound');
  const fragmentsSound = document.getElementById('fragmentsSound');

  // Check if it's the 10th summon (guaranteed legendary)
  if (summonCounter % 50 === 0) {
    // Guarantee a legendary unit
    const randomLegendary = legendaryUnits[Math.floor(Math.random() * legendaryUnits.length)];

    // Play legendary sound

     return {
      type: 'legendary',
      content: `
        <div class="imagcon ${randomLegendary.rarity.toLowerCase()}"><img src="images/units/${randomLegendary.name}.png" alt="${randomLegendary.name}" class="unitimg"/> <div class="imagtxt">${randomLegendary.name}</div> (${randomLegendary.rarity})</div><br>
       
      `
    };
  }

  // Regular summon logic (non-guaranteed)
  const totalProbabilities = units.reduce((sum, unit) => sum + unit.unitProb + unit.fragmentProb, 0);
  const random = Math.random() * totalProbabilities;

  let cumulative = 0;
  for (const unit of units) {
    // Check for unit selection
    cumulative += unit.unitProb;
    if (random < cumulative) {
      // Play regular summon sound

      return {
        type: unit.rarity.toLowerCase(),
        content: `
          <div class="imagcon ${unit.rarity.toLowerCase()}"><img src="images/units/${unit.name}.png" alt="${unit.name}" class="unitimg"/><div class="imagtxt">${unit.name}</div> (${unit.rarity})</div>
          
        `
      };
    }

    // Check for fragment selection
    cumulative += unit.fragmentProb;
    if (random < cumulative) {

     return {
        type: 'fragments',
        content: `
          <div class="imagcon frag${unit.rarity.toLocaleLowerCase()}"><img src="images/${unit.rarity.toLocaleLowerCase()}fragment.png" alt="" class="unitfrag"/><img src="images/units/${unit.name}.png" alt="${unit.name}" class="fragunitimg"/></div><br>
          <div class="imagtxt">Fragment for: ${unit.name} (${unit.rarity})</div>
        `
      };
    }
  }

   return { type: 'none', content: 'No unit or fragment summoned' }; // Fallback in case something goes wrong
}
function stopAllSounds() {
  const sounds = document.querySelectorAll('audio');
  sounds.forEach(sound => {
    sound.pause();
    sound.currentTime = 0; // Reset playback position
  });
}

// Disable the button and play the summon sound
function handleSummon() {
    
    stopAllSounds();
    
  const allSummonsDiv = document.getElementById('allSummons');
  allSummonsDiv.innerHTML = ""; 
  
    
        $(".bgovl").removeClass('legendaryglow');

  const summonButton = document.getElementById('summonButton');
  const resultDiv = document.getElementById('result');
   resultDiv.style.display = 'flex'; 

    const result = summonUnitOrFragment();
    switch (result.type) {
    
    
      case 'rare':
        epicSound.play();
        break;
      case 'epic':
        epicSound.play();
        break;
      case 'fragments':
        fragmentsSound.play();
        break;
      case 'legendary':
        // Legendary sound can be the same as summonSound or a different one
        legendarySound.play();
        $(".bgovl").addClass('legendaryglow');
        break;
      default:
        // No additional sound for "none" type
        break;
    }

    
  // Clear the previous result
  resultDiv.innerHTML = ""; 

  // Disable button
  summonButton.disabled = true;

  // Show the result of summoning after 3 seconds
  setTimeout(() => {
    resultDiv.innerHTML = result.content; // Use innerHTML to insert HTML with image

    // Re-enable the button after 3 seconds
    summonButton.disabled = false;
  }, 2500);  // 3000 milliseconds = 3 seconds
}


let currentSummonIndex = 0; // To track which of the 10 summons we're on
let summonedItems = []; // Store all 10 summoned items

// Function to summon 10 units
function handleSummon10() {
  summonCounter = 0;
  currentSummonIndex = 0;
  summonedItems = [];

  stopAllSounds(); // Stop any ongoing sounds
  
  const resultDiv = document.getElementById('result');   
  resultDiv.style.display = 'flex'; 
  resultDiv.innerHTML = "";   
  const allSummonsDiv = document.getElementById('allSummons');
  allSummonsDiv.innerHTML = ""; 
  $(".bgovl").removeClass('legendaryglow');

  // Disable both buttons initially
  document.getElementById('summonButton').disabled = true;
  document.getElementById('summon10Button').disabled = true;

  summonNextUnit(); // Start the summoning sequence
}

// Function to summon the next unit in sequence
function summonNextUnit() {
  // If we've summoned all 10 units, show the final result
  if (summonCounter >= 20) {
    showAllSummons();
    return;
  }
  
  $("#continueButton").hide();
  stopAllSounds();
  $(".bgovl").removeClass('legendaryglow');
  

  // Get the result of a summon
  const result = summonUnitOrFragment();
  summonedItems.push(result); // Store the result in the array

  // Update the display with the current summon
  const resultDiv = document.getElementById('result');  
  resultDiv.innerHTML = ""; 
  
  
  // Play sounds based on rarity
  switch (result.type) {
    case 'rare':
      epicSound.play();
      break;
    case 'epic':
      epicSound.play();
      break;
    case 'fragments':
      fragmentsSound.play();
      break;
    case 'legendary':
      legendarySound.play();
      $(".bgovl").addClass('legendaryglow');
      break;
    default:
      break;
  }
  
  
  setTimeout(() => {
    resultDiv.innerHTML = result.content; // Use innerHTML to insert HTML with image
    $("#continueButton").show(); // Show continue button after first summon
      
  }, 2500);


  // Increment the summon counter
  summonCounter++;
}

// Function to show all 10 summoned items on one screen
function showAllSummons() {
  $("#continueButton").hide(); // Hide the continue button
  const resultDiv = document.getElementById('result');     
  resultDiv.innerHTML = "";  
  resultDiv.style.display = 'none'; 
  
  const allSummonsDiv = document.getElementById('allSummons');
  allSummonsDiv.style.display = 'block'; // Show the final result section

  let allItemsHTML = "";
  summonedItems.forEach(item => {
    allItemsHTML += item.content + "<br>"; // Append each summoned item to the result
  });

  allSummonsDiv.innerHTML = allItemsHTML; // Display all items at once

  // Re-enable the buttons after all items are shown
  document.getElementById('summonButton').disabled = false;
  document.getElementById('summon10Button').disabled = false;
}




// Event listener for summon button click
document.getElementById('summonButton').addEventListener('click', handleSummon);



// Event listener for "Summon 10" button click
document.getElementById('summon10Button').addEventListener('click', handleSummon10);

// Event listener for "Continue" button click (to show next summoned unit)
document.getElementById('continueButton').addEventListener('click', summonNextUnit);
</script>


</body>

</html>